{"version":3,"file":"CommentSection.stories-711bc71b.js","sources":["../../src/assets/challenges/comment-section/assets/icon-minus.svg","../../src/assets/challenges/comment-section/assets/icon-plus.svg","../../src/assets/challenges/comment-section/assets/icon-reply.svg","../../src/components/CommentSection/CommentCard.tsx","../../src/components/CommentSection/index.tsx"],"sourcesContent":["export default \"__VITE_ASSET__aefdc3c1__\"","export default \"__VITE_ASSET__ee760976__\"","export default \"__VITE_ASSET__bee77066__\"","import { ReactComponent as MinusIcon } from \"../../assets/challenges/comment-section/assets/icon-minus.svg\";\nimport { ReactComponent as PlusIcon } from \"../../assets/challenges/comment-section/assets/icon-plus.svg\";\nimport { ReactComponent as ReplyIcon } from \"../../assets/challenges/comment-section/assets/icon-reply.svg\";\n\nfunction ReplyButton({ className = \"\" }: { className?: string }) {\n  return (\n    <button\n      className={`flex select-none items-center space-x-1 rounded p-2 focus:bg-[hsl(239,57%,85%)] focus:outline-none focus:ring-1 focus:ring-[hsla(238,40%,52%,0.5)] ${className}`}\n    >\n      <ReplyIcon className=\"w-3 text-[hsl(238,40%,52%)]\" />\n      <span className=\"text-sm font-semibold text-[hsl(238,40%,52%)]\">\n        Reply\n      </span>\n    </button>\n  );\n}\n\nfunction ScoreInput({ score }: { score: number }) {\n  return (\n    <div className=\"flex select-none items-center space-x-2 space-y-0 rounded-md bg-[hsl(223,19%,93%)] p-2 md:flex-col md:space-x-0 md:space-y-1\">\n      <button className=\"p-1 text-[hsl(239,57%,85%)] focus:text-[hsl(238,40%,52%)] focus:outline-none\">\n        <PlusIcon className=\"h-3 w-3\" />\n      </button>\n      <span className=\"px-1 text-[hsl(238,40%,52%)]\">{score}</span>\n      <button className=\"p-1 text-[hsl(239,57%,85%)] focus:text-[hsl(238,40%,52%)] focus:outline-none\">\n        <MinusIcon className=\"h-3 w-3 \" />\n      </button>\n    </div>\n  );\n}\n\nexport default function CommentCard({\n  user,\n  score,\n  content,\n  createdAt,\n  showYouBadge = false,\n}: {\n  id: string;\n  user: {\n    image: string;\n    username: string;\n  };\n  score: number;\n  content: string;\n  createdAt: string;\n  showYouBadge: boolean;\n  onReplyClicked?: (commentId: string) => void;\n  onScoreChange?: (\n    commentId: string,\n    scoreChangeType: \"increment\" | \"decrement\"\n  ) => void;\n}) {\n  return (\n    <div className=\"flex flex-col-reverse items-start rounded-lg bg-white p-5 md:flex-row md:space-x-5\">\n      <div className=\"mt-3 flex w-full justify-between md:mt-0 md:w-auto\">\n        <ScoreInput score={score} />\n        <ReplyButton className=\"md:hidden\" />\n      </div>\n      <div className=\"flex flex-col space-y-3\">\n        <div className=\"flex content-between\">\n          <div className=\"flex grow select-none items-center space-x-4\">\n            <img\n              className=\"w-6\"\n              src={user.image}\n              alt={`${user.username}'s profile`}\n            />\n            <span className=\"select-all text-sm font-bold text-gray-700\">\n              {user.username}\n              {showYouBadge && (\n                <span className=\"ml-2 rounded bg-[hsl(238,40%,52%)] px-1 py-[0.1rem] text-xs text-white\">\n                  you\n                </span>\n              )}\n            </span>\n\n            <span className=\"text-sm text-[hsl(211,10%,45%)]\">{createdAt}</span>\n          </div>\n          <ReplyButton className=\"hidden md:flex\" />\n        </div>\n        <p className=\"text-sm text-[hsl(211,10%,45%)]\">{content}</p>\n      </div>\n    </div>\n  );\n}\n","import CommentCard from \"./CommentCard\";\nimport classes from \"./CommentSection.module.css\";\n\nexport interface CommentSectionProps {\n  currentUserImg: string;\n  currentUser: string;\n  comments: {\n    id: string;\n    user: {\n      image: string;\n      username: string;\n    };\n    score: number;\n    content: string;\n    createdAt: string;\n    replies: {\n      id: string;\n      user: {\n        image: string;\n        username: string;\n      };\n      score: number;\n      content: string;\n      createdAt: string;\n      replyingTo: string;\n    }[];\n  }[];\n}\n\nexport default function CommentSection({\n  currentUser,\n  currentUserImg,\n  comments,\n}: CommentSectionProps) {\n  return (\n    <section className={`max-w-[40rem] ${classes[\"font-rubik\"]}`}>\n      <div className=\"flex flex-col space-y-3\">\n        {comments.map((comment) => (\n          <div key={comment.id}>\n            <CommentCard\n              id={comment.id}\n              user={{\n                image: import.meta.env.BASE_URL + comment.user.image,\n                username: comment.user.username,\n              }}\n              score={comment.score}\n              createdAt={comment.createdAt}\n              content={comment.content}\n              showYouBadge={comment.user.username === currentUser}\n            />\n            {comment.replies.length > 0 && (\n              <div className=\"flex py-3\">\n                <div className=\"mx-3 my-1 border border-[hsl(211,10%,45%)] border-opacity-20 md:mx-8\"></div>\n                <div className=\"flex flex-col space-y-3\">\n                  {comment.replies.map((reply) => (\n                    <CommentCard\n                      key={reply.id}\n                      id={reply.id}\n                      user={{\n                        image: import.meta.env.BASE_URL + reply.user.image,\n                        username: reply.user.username,\n                      }}\n                      score={reply.score}\n                      createdAt={reply.createdAt}\n                      content={reply.content}\n                      showYouBadge={reply.user.username === currentUser}\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n      <div className=\"flex flex-row items-start space-x-3 rounded-lg bg-white p-4 py-6\">\n        <img\n          className=\"w-6\"\n          src={currentUserImg}\n          alt={`${currentUser}'s profile`}\n        />\n        <div className=\"flex grow flex-col items-start gap-3 md:flex-row\">\n          <textarea\n            placeholder=\"Add a comment\"\n            className=\"w-full grow rounded-lg border border-[hsl(211,10%,45%)] border-opacity-20 px-2 py-1 focus:outline-none focus:ring-1 focus:ring-[hsla(238,40%,52%,0.5)]\"\n            rows={3}\n          ></textarea>\n          <button className=\" select-none rounded bg-[hsla(238,40%,52%)] px-3 py-2 text-sm uppercase text-white focus:outline-none focus:ring-1 focus:ring-[hsla(238,40%,52%,0.5)]\">\n            Submit\n          </button>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":["SvgIconMinus","props","React.createElement","SvgIconPlus","SvgIconReply","ReplyButton","className","jsxs","jsx","ReplyIcon","ScoreInput","score","PlusIcon","MinusIcon","CommentCard","user","content","createdAt","showYouBadge","CommentSection","currentUser","currentUserImg","comments","classes","comment","reply"],"mappings":"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"}